title = "Contacts"
url = "/contacts"
layout = "one_column"
description = "Contacts page"
is_hidden = 0

[editable contacts_left]
file = "contacts/contacts_left.htm"

[editable contacts_right]
file = "contacts/contacts_right.htm"
==
<?php
use JustinDoyle\Contacts\Models\Contact;
use JustinDoyle\Contacts\Models\Category;

function onStart() {
    $this['contacts'] = Contact::orderBy('order')->get();
    $this['categories'] = Category::all();
}
?>
==
{% put header %}
<div class="section_header">
    <h3>{{'Contacts'|_}}</h3>
</div>
{% endput %}


{% put middle_column %}

<style>
    .contact-card {
        text-align: center;
        border-radius: 5px;
        margin-top: 10px;
        margin-bottom: 10px;
    }
    


    .contact-card  img {
        width: 128px;
        height: 128px;
        border:2px solid #55dc9e;
        box-shadow: 1px 1px 5px 2px #E0E0E0;
        border-radius: 50%;
        background-color: white;
        position: relative;
        z-index:100;
    }

    .contact-card-info {
        background-color: white;
        /*border:1px solid #922c2a;*/
        border-radius: 5px;
        /*box-shadow: 1px 1px 5px 2px #E0E0E0;*/
        margin-top: -40px;
        padding-top: 24px;
        padding-bottom: 15px;
    }
    

    .contact-card-info-row {
        margin:0;
    }

    .contact-category-dropdown {
        margin-top: 20px;

    }

</style>

{% put scripts %}

<script src="/themes/krisawzm-blank-bootstrap/assets/js/jquery.isotope.min.js"></script>

<script type="text/javascript">
    $(function(){

        var $container = $('#contacts-container'),
                $filters = $("#filters a");

        $container.imagesLoaded( function(){
            $container.isotope({
                itemSelector : '.contact-card',
                masonry: {
//                    columnWidth: 313
                }
            });
        });

        // filter items when filter link is clicked
        $filters.click(function() {
            $filters.removeClass("active");
            $(this).addClass("active");
            var selector = $(this).data('filter');
            $container.isotope({ filter: selector });
            return false;
        });


    });
</script>
{% endput %}

<div class="row">
    <div class="col-md-12">
        <div id="filters-container">
            <ul id="filters">
                <li><a href="#" data-filter="*" class="active">All</a></li>

                {% for category in categories %}

                <li class="separator">/</li>
                <li>
                    <a href="#" data-filter=".category-{{ category.id }}">
                    {% if activeLocale == 'fr' %}
                    {{category.title_fr}}
                    {% else %}
                    {{category.title_en}}
                    {% endif %}
                    </a>
                </li>

                {% endfor %}
            </ul>
        </div>
    </div>
</div>
<div class="row" style="margin-bottom: 20px;">
    <div class="col-md-12 text-center">
        <a href="/honorary-past" style="font-size:18px;font-style: italic;">({{'View Honorary Members and Past Presidents'|_}})</a>
    </div>
</div>
<div class="row" id="contacts-container">
    {% for contact in contacts %}
    <div class="col col-sm-4 contact-card category-{{contact.category_id}}" data-category-id="{{contact.category_id}}">
        <img src="{{contact.profile_image|media}}" alt="">
        <div class="row contact-card-info-row">
            <div class="col col-lg-12 contact-card-info">
                <div class="row text-left">
                    <div class="col-md-10 col-md-offset-2">
                        <h3 style="line-height: 28px;">{% if activeLocale == 'fr' %}{{contact.title_fr}}{% else %}{{contact.title_en}}{% endif %}</h3>
                    </div>
                </div>
                <div class="row text-left">
                    <div class="col-md-10 col-md-offset-2">
                        <h4>{{contact.name}}</h4>
                    </div>
                </div>
                {% if contact.end_date is not null %}
                <div class="row text-left">
                    <div class="col-md-10 col-md-offset-2">
                        <h5>{{'Retiring'|_}} {% if activeLocale == 'fr' %}{{contact.end_date|date("m/Y")}}{% else %}{{contact.end_date|date('M Y')}}{% endif %}</h5>
                    </div>
                </div>
                {% endif %}
                {% if contact.address_line_one is not empty %}
                <div class="row text-left">
                    <div class="col-md-2">
                        <i class="fa fa-envelope" aria-hidden="true"></i>
                    </div>
                    <div class="col-md-10">
                        {{contact.address_line_one}}
                    </div>
                </div>
                {% endif %}
                {% if contact.address_line_two is not empty %}
                <div class="row text-left">
                    <div class="col-md-10 col-md-offset-2">
                        {{contact.address_line_two}}
                    </div>
                </div>
                {% endif %}
                {% if contact.city is not empty or contact.province is not empty or contact.postal_code is not empty %}
                    <div class="row text-left">
                    <div class="col-md-10 col-md-offset-2">
                        {% if contact.city is not empty %}
                        {{contact.city}}
                        {% endif %}
                        {% if contact.province is not empty %}
                        {{contact.province}}
                        {% endif %}
                        {% if contact.postal_code is not empty %}
                        {{contact.postal_code}}
                        {% endif %}
                    </div>
                    </div>
                {% endif %}
                <br>
                {% if contact.email is not empty %}
                <div class="row text-left">
                    <div class="col-md-2">
                        <i class="fa fa-at"></i>
                    </div>
                    <div class="col-md-10">
                        <a href="mailto:{{contact.email}}">{{contact.email}}</a>
                    </div>
                </div>
                {% endif %}
                {% if contact.home_phone is not empty %}
                <div class="row text-left">
                    <div class="col-md-2" style="white-space: nowrap;">
                        <i class="fa fa-phone"></i> <small class="text-muted">({{'contact_card.home'|_}})</small>
                    </div>
                    <div class="col-md-10">
                        {{contact.home_phone}}
                    </div>
                </div>
                {% endif %}
                {% if contact.work_phone is not empty %}
                <div class="row text-left">
                    <div class="col-md-2" style="white-space: nowrap;">
                        <i class="fa fa-phone"></i> <small class="text-muted">({{'contact_card.work'|_}})</small>
                    </div>
                    <div class="col-md-10">
                        {{contact.work_phone}}
                    </div>
                </div>
                {% endif %}
                {% if contact.mobile_phone is not empty %}
                <div class="row text-left">
                    <div class="col-md-2" style="white-space: nowrap;">
                        <i class="fa fa-phone"></i> <small class="text-muted">({{'contact_card.mobile'|_}})</small>
                    </div>
                    <div class="col-md-10">
                        {{contact.mobile_phone}}
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endput %}